<!DOCTYPE html>
<html lang="en">
  <body>
    <div id="root"></div>
  </body>
  <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">
    const root = document.getElementById('root')
    const App = () => {
      //   const data = React.useState(0) // 초기값 설정
      //   console.log(data) // [undefined, ƒ] 데이터, 데이터를 바꿀 때 사용하는 함수

      /*
      const x = [1, 2]
      const a = x[0]
      const b = x[1]
      const [a, b] = x
      */

      const [counter, setCounter] = React.useState(0) // setCounter는 1. 값을 바꾸고 2. 리렌더링하는 역할을 함
      const onClick = () => {
        // setCounter(counter + 1)
        setCounter((current) => current + 1) // 이렇게 작성한 것이 더 안전함. 리액트가 이 current가 확실히 현재 값이라는 것을 보장함(다른 곳에서 예상치 못한 업데이트가 일어나도 현재)
      }
      console.log('rendered')
      console.log(counter)
      return (
        <div>
          <h3>total clicks : {counter}</h3>
          <button onClick={onClick}>click me</button>
        </div>
      )
    }
    ReactDOM.render(<App />, root)
  </script>
</html>

<!-- setCounter로 counter를 변경할 때 컴포넌트가 재생성됨 === 새로운 값을 가지고 리렌더링됨
 컴포넌트 전체가 재생성됨(새로운 값을 가지고) -> 바뀐부분만 업데이트
 => state가 바뀌면 리렌더링이 일어난다!!! -->
